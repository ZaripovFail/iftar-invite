<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –ò—Ñ—Ç–∞—Ä</title>
    <style>
        /* --- –°—Ç–∏–ª–∏ (CSS) --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(145deg, #1e2b3a 0%, #0f1a24 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #eaeef2;
            line-height: 1.6;
        }

        .container {
    max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 48px;
            padding: 40px 30px;
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.5), 0 0 0 2px rgba(255, 215, 0, 0.1) inset;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        h1 {
            font-size: 2.5rem;
            text-align: center;
            color: #ffd966;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
            font-weight: 400;
            letter-spacing: 2px;
        }

        .subtitle {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 40px;
            color: #b8c7d1;
            font-style: italic;
            border-bottom: 1px dashed #ffd966;
            padding-bottom: 20px;
        }

        .details {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 25px;
            margin-bottom: 40px;
        }

        .detail-item {
            text-align: center;
            flex: 1 1 150px;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px 15px;
            border-radius: 32px;
            border: 1px solid #ffd96666;
            box-shadow: 0 8px 0 #0f1a24;
            transition: transform 0.2s;
        }

        .detail-item:hover {
            transform: translateY(-5px);
        }

        .detail-emoji {
            font-size: 2.5rem;
            display: block;
            margin-bottom: 10px;
        }

        .detail-label {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #9bb7c9;
        }

        .detail-value {
            font-size: 1.4rem;
            font-weight: 600;
            color: #ffd966;
        }

        .prayer-times {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 48px;
            padding: 30px 25px;
            margin-bottom: 40px;
            border: 1px solid #ffd96699;
        }

        .prayer-times h2 {
            text-align: center;
            color: #ffd966;
            margin-bottom: 25px;
            font-weight: 300;
            font-size: 2rem;
        }

        .prayer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }

        .prayer-item {
            text-align: center;
            padding: 15px 8px;
            background: #1e2b3a;
            border-radius: 32px;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .prayer-item.next-prayer {
            border-color: #ffd966;
            box-shadow: 0 0 20px #ffd96666;
            background: #2a3b4b;
        }

        .prayer-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #ffd966;
            margin-bottom: 5px;
        }

        .prayer-time {
            font-size: 1.1rem;
            color: #eaeef2;
        }

        .countdown {
            text-align: center;
            background: #0f1a24;
            border-radius: 60px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid #ffd966;
        }

        .countdown-label {
            font-size: 1.2rem;
            color: #b8c7d1;
            margin-bottom: 10px;
        }

        #countdown-timer {
            font-size: 3rem;
            font-weight: 600;
            color: #ffd966;
            letter-spacing: 5px;
            text-shadow: 0 0 20px gold;
        }

        .rsvp-button {
            text-align: center;
            margin-top: 20px;
        }

        .btn {
            display: inline-block;
            background: #ffd966;
            color: #0f1a24;
            font-size: 1.5rem;
            font-weight: 600;
            padding: 18px 60px;
            border-radius: 50px;
            text-decoration: none;
            box-shadow: 0 10px 0 #b2891e;
            transition: 0.1s linear;
            border: none;
            cursor: pointer;
            letter-spacing: 2px;
        }

        .btn:active {
            box-shadow: 0 3px 0 #b2891e;
            transform: translateY(7px);
        }

        .footer-note {
            text-align: center;
            margin-top: 35px;
            font-size: 0.9rem;
            color: #9bb7c9;
        }

        @media (max-width: 600px) {
            .container { padding: 30px 15px; }
            h1 { font-size: 2rem; }
            #countdown-timer { font-size: 2.2rem; }
            .btn { font-size: 1.3rem; padding: 15px 40px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåô –î–æ—Ä–æ–≥–∏–µ –¥—Ä—É–∑—å—è!</h1>
        <div class="subtitle">–ü—Ä–∏–≥–ª–∞—à–∞—é –≤–∞—Å –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ —Ä–∞–∑–≥–æ–≤–µ–Ω–∏–µ (–ò—Ñ—Ç–∞—Ä)</div>

        <div class="details">
            <div class="detail-item">
                <span class="detail-emoji">üìÖ</span>
                <div class="detail-label">–î–∞—Ç–∞</div>
                <div class="detail-value">22 –º–∞—Ä—Ç–∞ 2026</div>
            </div>
            <div class="detail-item">
                <span class="detail-emoji">üï∞Ô∏è</span>
                <div class="detail-label">–í—Ä–µ–º—è —Å–±–æ—Ä–∞</div>
                <div class="detail-value">18:00</div>
            </div>
            <div class="detail-item">
                <span class="detail-emoji">üìç</span>
                <div class="detail-label">–ú–µ—Å—Ç–æ</div>
                <div class="detail-value">–†–µ—Å—Ç–æ—Ä–∞–Ω "–ü–∞–Ω–æ—Ä–∞–º–∞"</div>
            </div>
        </div>

        <!-- –ë–ª–æ–∫ —Å –≤—Ä–µ–º–µ–Ω–∞–º–∏ –Ω–∞–º–∞–∑–æ–≤ -->
        <div class="prayer-times" id="prayer-times">
            <h2>üïå –í—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ (–ú–æ—Å–∫–≤–∞)</h2>
            <div class="prayer-grid" id="prayer-grid">
                <!-- –°—é–¥–∞ JavaScript –≤—Å—Ç–∞–≤–∏—Ç –≤—Ä–µ–º—è -->
            </div>
        </div>

        <!-- –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–æ –∏—Ñ—Ç–∞—Ä–∞ (–ú–∞–≥—Ä–∏–±) -->
        <div class="countdown">
            <div class="countdown-label">–î–æ –∏—Ñ—Ç–∞—Ä–∞ (–≤—Ä–µ–º—è –º–∞–≥—Ä–∏–±–∞) –æ—Å—Ç–∞–ª–æ—Å—å:</div>
            <div id="countdown-timer">--:--:--</div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è -->
        <div class="rsvp-button">
            <button class="btn" id="rsvp-btn">‚úÖ –Ø –ø—Ä–∏–¥—É!</button>
        </div>
        <div class="footer-note" id="thankyou-note"></div>
    </div>

    <script>
        // --- JavaScript ---

        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ - –ú–æ—Å–∫–≤–∞)
        const CONFIG = {
            latitude: 55.7558,
            longitude: 37.6173,
            timezone: 3, // –ú–æ—Å–∫–≤–∞ UTC+3
            method: 16, // –ú–µ—Ç–æ–¥ —Ä–∞—Å—á–µ—Ç–∞: 16 - –≥. –ú–æ—Å–∫–≤–∞ (–î–£–ú –†–§)
            // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∞—Ç–∞ –∏—Ñ—Ç–∞—Ä–∞ (22 –º–∞—Ä—Ç–∞ 2026)
            targetDate: '2026-03-22'
        };

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–æ–≤ —á–µ—Ä–µ–∑ API Aladhan.com
        async function fetchPrayerTimes(date) {
            const url = `https://api.aladhan.com/v1/timings/${date}?latitude=${CONFIG.latitude}&longitude=${CONFIG.longitude}&method=${CONFIG.method}`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                if (data.code === 200) {
                    return data.data.timings;
                } else {
                    throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–æ–≤:', error);
                return null;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –Ω–∞–º–∞–∑–∞
        function getNextPrayer(timings) {
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes(); // –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ –º–∏–Ω—É—Ç–∞—Ö

            // –°–ø–∏—Å–æ–∫ –Ω–∞–º–∞–∑–æ–≤ –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è (–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ)
            const prayerOrder = ['Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];

            for (let i = 0; i < prayerOrder.length; i++) {
                const prayerName = prayerOrder[i];
                if (!timings[prayerName]) continue;

                const [hours, minutes] = timings[prayerName].split(':').map(Number);
                const prayerTimeInMinutes = hours * 60 + minutes;

                // –ï—Å–ª–∏ –≤—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ —Å–µ–≥–æ–¥–Ω—è
                if (prayerTimeInMinutes > currentTime) {
                    return prayerName;
                }
            }
            // –ï—Å–ª–∏ –≤—Å–µ –Ω–∞–º–∞–∑—ã –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –ø—Ä–æ—à–ª–∏, —Å–ª–µ–¥—É—é—â–∏–π - Fajr (—Ä–∞—Å—Å–≤–µ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è)
            return 'Fajr';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–µ–¥—É—â–µ–≥–æ –Ω—É–ª—è)
        function formatTime(timeString) {
            return timeString; // API —É–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ "HH:MM"
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        function displayPrayerTimes(timings) {
            const prayerGrid = document.getElementById('prayer-grid');
            const prayerNamesRU = {
                'Fajr': '–§–∞–¥–∂—Ä',
                'Sunrise': '–í–æ—Å—Ö–æ–¥',
                'Dhuhr': '–ó—É—Ö—Ä',
                'Asr': '–ê—Å—Ä',
                'Maghrib': '–ú–∞–≥—Ä–∏–± (–ò—Ñ—Ç–∞—Ä)',
                'Isha': '–ò—à–∞'
            };

            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–ª–µ–¥—É—é—â–∏–π –Ω–∞–º–∞–∑
            const nextPrayer = getNextPrayer(timings);

            prayerGrid.innerHTML = ''; // –û—á–∏—â–∞–µ–º —Å–µ—Ç–∫—É

            for (const [key, time] of Object.entries(timings)) {
                if (prayerNamesRU[key]) { // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–º–∞–∑—ã
                    const prayerItem = document.createElement('div');
                    prayerItem.className = 'prayer-item';
                    if (key === nextPrayer) {
                        prayerItem.classList.add('next-prayer');
                    }

                    prayerItem.innerHTML = `
                        <div class="prayer-name">${prayerNamesRU[key]}</div>
                        <div class="prayer-time">${formatTime(time)}</div>
                    `;
                    prayerGrid.appendChild(prayerItem);
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞ –¥–æ –≤—Ä–µ–º–µ–Ω–∏ –ú–∞–≥—Ä–∏–±–∞ (–ò—Ñ—Ç–∞—Ä)
        function updateCountdownToMaghrib(maghribTime) {
            const countdownElement = document.getElementById('countdown-timer');
            if (!maghribTime) {
                countdownElement.textContent = '--:--:--';
                return;
            }

            const now = new Date();
            const [hours, minutes] = maghribTime.split(':').map(Number);

            // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç Date –¥–ª—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –ú–∞–≥—Ä–∏–±–∞
            const maghribDate = new Date(now);
            maghribDate.setHours(hours, minutes, 0, 0); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–∞—Å—ã –∏ –º–∏–Ω—É—Ç—ã

            // –ï—Å–ª–∏ –≤—Ä–µ–º—è –ú–∞–≥—Ä–∏–±–∞ —É–∂–µ –ø—Ä–æ—à–ª–æ —Å–µ–≥–æ–¥–Ω—è, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–µ–ª—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞
            if (now > maghribDate) {
                maghribDate.setDate(maghribDate.getDate() + 1);
            }

            function updateTimer() {
                const now = new Date();
                const diff = maghribDate - now; // –†–∞–∑–Ω–∏—Ü–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

                if (diff <= 0) {
                    // –ï—Å–ª–∏ –≤—Ä–µ–º—è –Ω–∞—Å—Ç–∞–ª–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–ò—Ñ—Ç–∞—Ä –Ω–∞—á–∞–ª—Å—è!" –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–ª—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞
                    countdownElement.textContent = "–ò—Ñ—Ç–∞—Ä –Ω–∞—á–∞–ª—Å—è! üåô";
                    // –ü–µ—Ä–µ–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä –Ω–∞ –∑–∞–≤—Ç—Ä–∞—à–Ω–∏–π –ú–∞–≥—Ä–∏–±
                    maghribDate.setDate(maghribDate.getDate() + 1);
                    // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º updateTimer —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
                    setTimeout(updateTimer, 1000);
                    return;
                }

                const hoursLeft = Math.floor(diff / (1000 * 60 * 60));
                const minutesLeft = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const secondsLeft = Math.floor((diff % (1000 * 60)) / 1000);

                countdownElement.textContent = `${String(hoursLeft).padStart(2, '0')}:${String(minutesLeft).padStart(2, '0')}:${String(secondsLeft).padStart(2, '0')}`;
            }

            updateTimer();
            setInterval(updateTimer, 1000);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–Ø –ø—Ä–∏–¥—É!"
        function setupRSVP() {
            const rsvpBtn = document.getElementById('rsvp-btn');
            const thankYouNote = document.getElementById('thankyou-note');

            rsvpBtn.addEventListener('click', () => {
                thankYouNote.textContent = '–°–ø–∞—Å–∏–±–æ! –û—á–µ–Ω—å –∂–¥—É —Ç–µ–±—è! ü§≤';
                thankYouNote.style.color = '#ffd966';
                thankYouNote.style.fontSize = '1.2rem';
                thankYouNote.style.marginTop = '15px';
                rsvpBtn.disabled = true; // –î–µ–ª–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è
                rsvpBtn.style.opacity = '0.6';
            });
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        async function init() {
            // –ü–æ–ª—É—á–∞–µ–º –≤—Ä–µ–º—è –Ω–∞–º–∞–∑–æ–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã
            const timings = await fetchPrayerTimes(CONFIG.targetDate);

            if (timings) {
                displayPrayerTimes(timings);

                // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–æ –ú–∞–≥—Ä–∏–±–∞ (–∏—Ñ—Ç–∞—Ä)
                if (timings['Maghrib']) {
                    updateCountdownToMaghrib(timings['Maghrib']);
                }
            } else {
                // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Ä–µ–º—è, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–ª—É—à–∫—É
                document.getElementById('prayer-grid').innerHTML = '<p style="grid-column:1/-1; text-align:center;">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞–º–∞–∑–æ–≤. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.</p>';
            }

            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
            setupRSVP();
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å—ë –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
